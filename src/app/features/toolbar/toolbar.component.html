<header class="toolbar">
    <div class="toolbar-top">
        <div class="toolbar-left">
            <div class="logo">
                <img src="otel-logo.svg" alt="OpenTelemetry" class="logo-icon" />
                <span class="logo-text">OTel Collector Viewer</span>
            </div>
        </div>

        <div class="toolbar-center">
            <button
                class="tab-button"
                [class.active]="activeTab() === 'config'"
                (click)="tabChange.emit('config')">
                Config Viewer
            </button>
            <button
                class="tab-button"
                [class.active]="activeTab() === 'logs'"
                (click)="tabChange.emit('logs')">
                Log Viewer
            </button>
        </div>

        <div class="toolbar-right">
            <div class="theme-toggle-container">
                <span class="theme-icon">ğŸŒ™</span>
                <label class="theme-toggle">
                    <input
                        type="checkbox"
                        [checked]="themeService.isLight()"
                        (change)="themeService.toggleTheme()"
                        [attr.aria-label]="themeService.isDark() ? 'Switch to light mode' : 'Switch to dark mode'">
                    <span class="slider"></span>
                </label>
                <span class="theme-icon">â˜€ï¸</span>
            </div>
        </div>
    </div>

    @if (activeTab() === 'config') {
        <div class="toolbar-actions">
            <button class="btn btn-add" (click)="openAddComponent()">
                â• Add Component
            </button>
            <button class="btn btn-pipeline" (click)="openPipelineManager()" [disabled]="!state.hasConfig()">
                ğŸ”— Pipelines
            </button>
            <button class="btn" (click)="loadSampleConfig()">
                ğŸ“„ Load Sample
            </button>
            <button class="btn" (click)="importFile()">
                ğŸ“‚ Import YAML
            </button>
            <button class="btn" (click)="exportFile()" [disabled]="!state.hasConfig()">
                ğŸ’¾ Export YAML
            </button>
            <button
                class="btn"
                (click)="shareConfig()"
                [disabled]="!state.hasConfig()"
                title="Copy shareable link to clipboard">
                ğŸ”— Share
            </button>
            <button class="btn btn-danger" (click)="reset()" [disabled]="!state.hasConfig()">
                ğŸ—‘ï¸ Clear
            </button>
        </div>
    }

    <!-- Hidden file input -->
    <input type="file" #fileInput accept=".yaml,.yml" (change)="onFileSelected($event)" style="display: none" />
</header>
